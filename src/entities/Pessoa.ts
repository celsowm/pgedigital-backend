// AUTO-GENERATED by scripts/generate-entities.mjs
// Regenerate after schema changes.
import { col, Entity, Column, PrimaryKey, HasMany, BelongsToMany, HasManyCollection, ManyToManyCollection } from 'metal-orm';
import { Acervo } from './Acervo.js';
import { DocumentoPessoa } from './DocumentoPessoa.js';
import { EnderecoPessoa } from './EnderecoPessoa.js';
import { Interessado } from './Interessado.js';
import { InteressadoConsultivo } from './InteressadoConsultivo.js';
import { Parte } from './Parte.js';
import { RaizCnpjAcervo } from './RaizCnpjAcervo.js';
import { TipoDocumentoPessoa } from './TipoDocumentoPessoa.js';

@Entity({ tableName: 'pessoa' })
export class Pessoa {
  /**
   * Identificador da pessoa
   * @remarks Auto-increment identity column
   */
  @PrimaryKey(col.notNull(col.autoIncrement(col.int())))
  id!: number;

  /**
   * CPF(ou CNPJ caso a pessoa for jurídica) da pessoa
   */
  @Column(col.varchar(14))
  numero_documento_principal?: string;

  /**
   * Nome da pessoa
   */
  @Column(col.notNull(col.varchar(500)))
  nome!: string;

  /**
   * Tipo da pessoa(Física ou Jurídica)
   */
  @Column(col.notNull(col.text()))
  tipo_pessoa!: string;

  /**
   * Cidade natural
   */
  @Column(col.text())
  cidade_natural?: string;

  /**
   * Nacionalidade da pessoa
   */
  @Column(col.text())
  nacionalidade?: string;

  /**
   * Estado natural da pessoa
   */
  @Column(col.text())
  estado_natural?: string;

  /**
   * Data de falecimento
   */
  @Column(col.date<Date>())
  data_obito?: Date;

  /**
   * Sexo da pessoa
   */
  @Column(col.notNull(col.varchar(1)))
  sexo!: string;

  /**
   * Nome do genitor
   */
  @Column(col.text())
  nome_genitor?: string;

  /**
   * Nome da genitora
   */
  @Column(col.text())
  nome_genitora?: string;

  /**
   * Data de nascimento da pessoa
   */
  @Column(col.date<Date>())
  data_nascimento?: Date;

  /**
   * Fonetizar o nome da pessoa
   */
  @Column(col.varchar(500))
  fonetizar?: string;

  /**
   * Se a pessoa vou incluída de forma manual ou não
   * @defaultValue ((0))
   */
  @Column(col.defaultRaw(col.notNull(col.boolean()), '((0))'))
  inclusao_manual!: boolean;

  @BelongsToMany({ target: () => Acervo, pivotTable: () => RaizCnpjAcervo, pivotForeignKeyToRoot: 'matriz_id', pivotForeignKeyToTarget: 'acervo_id' })
  acervos!: ManyToManyCollection<Acervo>;

  @BelongsToMany({ target: () => TipoDocumentoPessoa, pivotTable: () => DocumentoPessoa, pivotForeignKeyToRoot: 'pessoa_id', pivotForeignKeyToTarget: 'tipo_documento_pessoa_id' })
  tiposDocumentosPessoas!: ManyToManyCollection<TipoDocumentoPessoa>;

  @HasMany({ target: () => Parte, foreignKey: 'pessoa_id' })
  partes!: HasManyCollection<Parte>;

  @HasMany({ target: () => InteressadoConsultivo, foreignKey: 'pessoa_id' })
  interessadosConsultivos!: HasManyCollection<InteressadoConsultivo>;

  @HasMany({ target: () => RaizCnpjAcervo, foreignKey: 'matriz_id' })
  raizesCnpjsAcervos!: HasManyCollection<RaizCnpjAcervo>;

  @HasMany({ target: () => DocumentoPessoa, foreignKey: 'pessoa_id' })
  documentosPessoas!: HasManyCollection<DocumentoPessoa>;

  @HasMany({ target: () => EnderecoPessoa, foreignKey: 'pessoa_id' })
  enderecosPessoas!: HasManyCollection<EnderecoPessoa>;

  @HasMany({ target: () => Interessado, foreignKey: 'pessoa_id' })
  interessados!: HasManyCollection<Interessado>;

}
